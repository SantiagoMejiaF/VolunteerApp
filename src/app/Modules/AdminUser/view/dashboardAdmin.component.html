<div class="container">
    <div class="row">
        <div class="col">
            <div class="tittle">
                <h2>Tablero de control</h2>
            </div>
        </div>
    </div>
    <div class="row mb-4" id="header">
        <div class="col">
            <div class="cards">
                <div class="row">
                    <div class="col" id="texto">
                        <h2>¡Bienvenido, {{ userName }}!</h2>
                        <p>Este es tu espacio para gestionar el dashboard de usuarios. Aquí podrás ver estadísticas
                            relevantes sobre los usuarios, voluntarios y organizaciones activas. ¡Estamos seguros de que
                            harás un gran trabajo!</p>
                    </div>
                    <div class="col" id="imagen-col">
                        <img src="assets/img/manLaptop.png" alt="Imagen">
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-lg-2 h-100" id="Users">
            <div class="card-container">
                <i class="bi bi-people-fill" style="font-size: 2rem; color: #ffffff;"></i>
                <h3 class="mt-4">{{ totalUsers }}</h3>
                <p>Usuarios <br>totales</p>
            </div>
        </div>
        <div class="col-12 col-lg-2 h-100" id="Volunteer">
            <div class="card-container">
                <i class="bi bi-person-heart" style="font-size: 2rem; color: #ffffff;"></i>
                <h3 class="mt-4">{{ activeVolunteers }}</h3>
                <p>Voluntarios Activos</p>
            </div>
        </div>
        <div class="col-12 col-lg-2 h-100" id="Organization">
            <div class="card-container">
                <i class="bi bi-building-fill-check" style="font-size: 2rem; color: #ffffff;"></i>
                <h3 class="mt-4">{{ activeOrganizations }}</h3>
                <p>Organizaciones Activas</p>
            </div>
        </div>
    </div>
    <div class="row mb-4">
        <div class="col h-100">
            <div class="table-container">
                <div class="row align-items-center">
                    <div class="col-3 mt-4 ml-5">
                        <h2>Estadísticas</h2>
                    </div>
                    <div class="col-3 mt-4 ml-4" id="drop">
                        <div class="dropdown">
                            <!-- Aquí se genera el dropdown dinámicamente con los años -->
                            <select class="form-control" (change)="onYearChange($event)" [(ngModel)]="selectedYear">
                                <option *ngFor="let year of yearRange" [value]="year">{{ year }}</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row align-items-center">
                    <div class="col ml-4">
                        <div id="chart">
                            <apx-chart [series]="chartOptions.series" [chart]="chartOptions.chart"
                                [dataLabels]="chartOptions.dataLabels" [plotOptions]="chartOptions.plotOptions"
                                [xaxis]="chartOptions.xaxis" [stroke]="chartOptions.stroke" [fill]="chartOptions.fill"
                                [yaxis]="chartOptions.yaxis" [title]="chartOptions.title"
                                [tooltip]="chartOptions.tooltip" [legend]="chartOptions.legend"></apx-chart>
                        </div>
                    </div>
                    <div class="col-4 ml-5" id="img2">
                        <img src="assets/img/corazon.png" alt="Imagen">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <div class="userApp">
                <div class="row">
                    <div class="col m-5" id="recentCustomers">
                        <div class="cardHeader">
                            <h2>Usuarios recientes</h2>
                        </div>
                        <table class="table table-sm" id="datatableDashAdmin">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Perfil</th>
                                    <th>Nombre</th>
                                    <th>Email</th>
                                    <th>Cédula</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let user of data">
                                    <td>{{ user.id }}</td>
                                    <td width="60px">
                                        <div class="imgBx">
                                            <img [src]="user.image ? user.image : 'assets/img/user2.png'" alt="Perfil"
                                                (error)="user.image='assets/img/user3.png'"
                                                style="width:50px; height:50px; border-radius:50%;">
                                        </div>
                                    </td>
                                    <td>{{ user.firstName ? (user.firstName + ' ' + user.lastName) : user.name }}</td>
                                    <td>{{ user.rol }}</td>
                                    <td>{{ user.email }}</td>
                                    <td>{{ user.cedula }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>